<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lingua Forge â€“ Hebrew Grammar Prototype</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  
<!-- MAGIC BOOK: VERSE / GRAMMAR (draggable, toggleable) -->
  <div id="magicBook" class="magic-book open" style="display:none;">
    <button id="bookToggleBtn" class="book-toggle-btn" title="Open/Close Book">ğŸ“–</button>
    <!-- Book cover (shown when closed) -->
    <div class="book-cover">
      <div class="book-cover-spine"></div>
      <div class="book-cover-front">
        <div class="book-cover-title">Verse</div>
        <div class="book-cover-subtitle">Foundations of Magic</div>
        <div class="book-cover-ornament">âœ¦</div>
      </div>
    </div>
    <!-- Book interior (shown when open) -->
    <div class="book-interior">
      <div class="book-spine"></div>
      <div class="book-page book-page-left">
        <div class="book-page-header">Verse: Foundations of Magic</div>
        <div class="book-page-content">
          <div style="font-size:12px; opacity:0.8;">Verse</div>
          <div id="grammarNatural" style="font-size:14px; font-weight:600; min-height:20px;"></div>
          <div style="font-size:12px; opacity:0.8; margin-top:8px;">Translation</div>
          <div id="grammarLiteral" style="font-size:13px; min-height:18px; margin-bottom:4px;"></div>
          <div id="grammarScore" style="font-size:11px; opacity:0.7; margin-top:4px;"></div>
        </div>
      </div>
      <div class="book-page book-page-right">
        <div class="book-page-header">Assembly</div>
        <div class="book-page-content">
          <div id="grammarHebrewLine" class="letter-board"></div>
          <div id="grammarTranslit" style="font-size:13px; min-height:18px; margin:4px 0;"></div>
          <div class="row" style="margin-top:10px;">
            <button id="enscribeBtn" disabled>Enscribe Line</button>
            <span class="pill">Lines completed: <span id="linesCompleted">0</span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT-SIDE TOOLS SIDEBAR -->
  <div id="toolsSidebar" class="tools-sidebar">
    <div class="tools-sidebar-tab">Tools</div>
    <div class="tools-sidebar-content">
      <div class="tool-slot" data-tool="book" id="toolSlotBook">
        <div class="tool-slot-icon">ğŸ“–</div>
        <div class="tool-slot-label">Verse</div>
      </div>
      <div class="tool-slot active" data-tool="hammer" id="toolSlotHammer">
        <div class="tool-slot-icon">ğŸ”¨</div>
        <div class="tool-slot-label">Hammer</div>
      </div>
      <div class="tool-slot locked-hidden" data-tool="pestle" id="toolSlotPestle">
        <div class="tool-slot-icon">ğŸ¥„</div>
        <div class="tool-slot-label">Pestle</div>
      </div>
      <div class="tool-slot locked-hidden" data-tool="shovel" id="toolSlotShovel">
        <div class="tool-slot-icon">ğŸ§°</div>
        <div class="tool-slot-label">Shovel</div>
      </div>
    </div>
  </div>

  <!-- Hidden original tool buttons for JS compatibility -->
  <div style="display:none;">
    <button id="selectHammer" class="tool-button active" data-tool="hammer"></button>
    <button id="selectPestle" class="tool-button locked-hidden" data-tool="pestle"></button>
    <button id="selectShovel" class="tool-button locked-hidden" data-tool="shovel"></button>
  </div>

  <!-- WORKERS PANEL FIXED AT BOTTOM RIGHT -->
  <div class="workers-panel">
    <div class="section">
      <h2>Workers</h2>
      <h3>Apprentice Scribes</h3>
      <div class="row">
        <button id="buyScribeBtn">Hire Scribe</button>
        <span style="font-size:12px;">Cost: <span id="scribeCost">10</span> Renown</span>
      </div>
      <div id="scribeBlocks" class="scribe-grid"></div>
    </div>
  </div>
  
  <!-- CRAFTING FORGE (HAMMER OR PESTLE) -->
  <div class="crafting-forge">
    <canvas id="craftingCanvas"></canvas>
  </div>

  <!-- FLOATING STATS -->
  <div class="stats-wrap">
    <div class="section core-stats-float">
      <div class="stat-row"><span>â­ Renown</span><strong id="lettersDisplay">0</strong></div>
      <div class="stat-row"><span>ğŸ’§ Ink</span><strong id="inkDisplay">0</strong></div>
    </div>
  </div>

  <!-- UPGRADES BUTTON (TOP RIGHT) -->
  <button id="upgradesBtn" class="upgrades-btn">
    <span class="upgrades-btn-icon">&#x2728;</span>
    <span class="upgrades-btn-label">Upgrades</span>
  </button>

  <!-- HEARTH (FIXED AT BOTTOM CENTER) -->
  <div class="hearth-wrapper">
    <!-- HEARTH STRUCTURE -->
    <div id="hearth" class="hearth-structure">
      <!-- Hearth mantle/top -->
      <div class="hearth-mantle"></div>

      <!-- Hearth arch and opening -->
      <div class="hearth-body">
        <div class="hearth-arch">
          <div class="hearth-arch-left"></div>
          <div class="hearth-arch-top"></div>
          <div class="hearth-arch-right"></div>
        </div>

        <!-- Fire chamber (interior) -->
        <div class="hearth-opening">
          <div class="hearth-back-wall"></div>
          <div id="hearthFire" class="hearth-fire"></div>
          <div class="hearth-floor"></div>
        </div>
      </div>

      <!-- Hearth base/foundation -->
      <div class="hearth-base"></div>
    </div>

    <div class="hearth-instructions">
      Drop letters here to <strong>heat the hearth</strong>. Place the hammer head over the heated hearth for 5 seconds to make it red-hot!
    </div>
  </div>

<!-- FLOATING MOLD VIEWPORT -->
<div class="mold-viewport-wrapper">
  <div class="section mold-panel">
    <h2 style="margin-bottom:6px;"></h2>
    <div class="mold-viewport">
      <button id="prevMoldBtn" class="secondary">&lt;</button>
      <div id="moldList" class="mold-list"></div>
      <button id="nextMoldBtn" class="secondary">&gt;</button>
    </div>
  </div>
</div>

  <!-- LETTER BASKET (FIXED AT BOTTOM LEFT) -->
  <div class="letter-basket">
    <div class="letter-basket-header">
      <div class="basket-title"></div>
      <div class="basket-subtitle"></div>
    </div>
    <div id="letterPool" class="letter-board letter-basket-board"></div>
  </div>

  <!-- UPGRADE MODAL -->
  <div id="upgradeModal" class="upgrade-modal hidden">
    <div class="upgrade-modal-content">
      <div class="upgrade-modal-header">
        <h2>Upgrades</h2>
        <div class="upgrade-header-stats">
          <span class="upgrade-resource">â­ <strong id="upgradeRenown">0</strong></span>
          <span class="upgrade-resource">ğŸ’§ <strong id="upgradeInk">0</strong></span>
        </div>
        <button id="closeUpgradeBtn" class="close-button">âœ•</button>
      </div>
      <div class="upgrade-columns">
        <!-- LEFT COLUMN: Workshop (tool blocks) -->
        <div class="upgrade-column" id="workshopColumn">
          <div class="upgrade-column-header">Workshop</div>
          <div class="upgrade-block-list" id="workshopList"></div>
        </div>
        <!-- RIGHT COLUMN: Forgecraft (stat upgrades) -->
        <div class="upgrade-column" id="forgecraftColumn">
          <div class="upgrade-column-header">Forgecraft</div>
          <div class="upgrade-block-list" id="forgecraftList"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Load JavaScript modules -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
